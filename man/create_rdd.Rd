% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rdd-utils.R
\name{create_rdd}
\alias{create_rdd}
\title{Create a Machine-Readable Package Dump for LLM Tools}
\usage{
create_rdd(pkg, cachedir = NULL, outdir = NULL, clean = TRUE)
}
\arguments{
\item{pkg}{A package name, local package directory, or package archive path.}

\item{cachedir}{Optional cache directory for \pkg{rdocdump}. When omitted,
this function uses \code{RDD_CACHE} or \code{tempdir()}.}

\item{outdir}{Optional output directory. When omitted, this function resolves
the directory from \code{AGENTS_SCRATCH}, then \code{AGENTS_HOME}, then
\code{WS_ROOT}, then \code{HOME}, and appends \code{llm-docs/rdd}.}

\item{clean}{Logical; when \code{TRUE} and \code{cachedir} is omitted, remove
the cache directory created for this call on exit.}
}
\value{
A length-one character vector containing the path to the generated
  \code{.txt} file.
}
\description{
Create a text artifact from package documentation, vignettes, and source code
using \code{rdocdump::rdd_to_txt()}. Local paths and installed packages are
used directly; package names not installed locally are fetched from CRAN.
}
\details{
Package resolution follows this order:
\itemize{
  \item Existing local directory/archive path in \code{pkg}:
  use local source.
  \item Installed package name: use installed package files.
  \item Uninstalled package name: fetch package source from CRAN.
}

The output text includes docs, vignettes, and code (\code{content = "all"})
and keeps both cached archive and extracted files
(\code{keep_files = "both"}).
Set \code{clean = TRUE} with implicit cache selection to remove temporary
cache files when the function exits.
}
\examples{
\dontrun{
# 1) Dump an installed package
out_installed <- create_rdd("stats")
readLines(out_installed, n = 10)

# 2) Dump a local package source directory
out_local <- create_rdd(
  pkg = "/path/to/local/package",
  cachedir = tempdir(),
  outdir = file.path(tempdir(), "llm-docs", "rdd"),
  clean = FALSE
)
readLines(out_local, n = 10)

# 3) Use environment-variable defaults for output location
Sys.setenv(AGENTS_SCRATCH = tempdir())
out_env <- create_rdd("rdstools")
readLines(out_env, n = 5)
}

}
\seealso{
Other development: 
\code{\link{dev-utils}}
}
\concept{development}
\concept{llm}
